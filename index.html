<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2A2A2A">
    <meta name="description" content="MALA - Défie tes amis chaque jour !">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MALA">
    
    <title>⭐ MALA</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ÉCRAN 1 : Pseudo -->
    <div id="pseudoScreen" class="screen active">
        <div class="container">
            <div class="logo-large">Mala</div>
            
            <img src="mascotte.png" alt="Mascotte MALA" class="mascotte-home">
            
            <label class="input-label">Votre pseudo</label>
            <input type="text" id="pseudoInput" class="input-yellow" placeholder="Manon" maxlength="15">
            
            <button onclick="createGroupPage()" class="btn-purple">Créer un groupe</button>
            <button onclick="joinGroupPage()" class="btn-purple">Rejoindre un groupe</button>
            
            <div class="footer">© 2025 MALA — Projet étudiant réalisé dans le cadre du projet de partiels</div>
        </div>
    </div>

    <!-- ÉCRAN 2 : Créer un groupe -->
    <div id="createScreen" class="screen">
        <div class="container">
            <div class="logo-large">Mala</div>
            
            <button onclick="backToPseudo()" class="btn-back">
                <span class="arrow-left"></span>
                Retour
            </button>
            
            <div class="card-purple">
                <h2 class="card-title">Nom du groupe</h2>
                <input type="text" id="groupNameInput" class="input-transparent" placeholder="Partiels" maxlength="20">
                
                <h2 class="card-title">Difficulté</h2>
                <select id="difficultySelect" class="input-transparent">
                    <option value="easy">Facile</option>
                    <option value="medium" selected>Moyen (Par défaut)</option>
                    <option value="hard">Difficile</option>
                </select>
                
                <div id="groupCodeDisplay" class="code-display hidden">
                    <h2 class="card-title">Code</h2>
                    <div class="code-number" id="generatedCode">12345</div>
                </div>
            </div>
            
            <img src="mascotte.png" alt="Mascotte" class="mascotte-small">
            
            <button onclick="generateGroup()" class="btn-create" id="createBtn">Créer</button>
            <button onclick="goToFeed()" class="btn-create hidden" id="continueBtn">Continuer</button>
            
            <div class="footer">© 2025 MALA — Projet étudiant réalisé dans le cadre du projet de partiels</div>
        </div>
    </div>

    <!-- ÉCRAN 3 : Rejoindre un groupe -->
    <div id="joinScreen" class="screen">
        <div class="container">
            <div class="logo-large">Mala</div>
            
            <button onclick="backToPseudo()" class="btn-back">
                <span class="arrow-left"></span>
                Retour
            </button>
            
            <div class="card-purple">
                <h2 class="card-title-large">Code</h2>
                <input type="text" id="joinCodeInput" class="input-code" placeholder="_____" maxlength="5" inputmode="numeric">
            </div>
            
            <img src="mascotte.png" alt="Mascotte" class="mascotte-small">
            
            <button onclick="joinGroupWithCode()" class="btn-join">Rejoindre</button>
            
            <div class="footer">© 2025 MALA — Projet étudiant réalisé dans le cadre du projet de partiels</div>
        </div>
    </div>

    <!-- ÉCRAN 4 : Feed du groupe -->
    <div id="feedScreen" class="screen">
        <!-- Header -->
        <div class="feed-header">
            <div class="header-left">
                <div class="burger-icon"></div>
                <div class="logo-small">Mala</div>
            </div>
            <div class="header-center">
                <span class="group-name-header" id="groupNameHeader">Partiels</span>
                <div class="member-badge" id="memberBadge">4</div>
            </div>
            <div class="header-right">
                <div class="menu-icon"></div>
            </div>
        </div>

        <!-- Feed d'activité -->
        <div class="feed-content">
            <div id="activityFeed"></div>
            
            <img src="mascotte.png" alt="Mascotte" class="mascotte-feed">
        </div>

        <!-- Input message -->
        <div class="message-input">
            <button class="attach-btn"></button>
            <input type="text" placeholder="Votre message..." class="message-field">
            <button class="send-btn"></button>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-btn active">
                <div class="nav-icon nav-home"></div>
            </button>
            <button class="nav-btn" onclick="showLeaderboard()">
                <div class="nav-icon nav-trophy"></div>
            </button>
            <button class="nav-btn" onclick="showChallenges()">
                <div class="nav-icon nav-star"></div>
            </button>
            <button class="nav-btn">
                <div class="nav-icon nav-profile"></div>
            </button>
            <button class="nav-btn nav-plus"></button>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <h3 id="modalTitle"></h3>
            <p id="modalMessage"></p>
            <button onclick="closeModal()" class="btn-modal">OK</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
